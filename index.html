<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="robots" content="noindex,nofollow">
    <title>とりなまえバトル</title>
    <style>
        /* 背景をCanvaの画像にする */
body { 
    margin: 0; 
    padding: 0;
    background-image: url('images/bg.jpg'); /* ここで背景を指定 */
    background-size: cover;
    background-position: center;
    height: 100vh;
    display: flex;
    flex-direction: row;
}

/* ボタンをCanvaの枠にする */
.btn { 
    background-image: url('images/btn_bg.png'); /* ここでボタン枠を指定 */
    background-size: 100% 100%;
    background-color: transparent; /* 元の背景色を消す */
    border: none;
    width: 280px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: bold;
    color: #4a2e19; /* 文字色を木の板に合わせる */
    cursor: pointer;
}

/* 中央の鳥の画像をきれいに見せる */
.center-area { 
    background: rgba(255, 255, 255, 0.5); /* 少し透けさせる */
    border-radius: 20px;
    margin: 20px;
}
    </style>
</head>
<body>

    <div id="result-screen">
        <h1 id="winner-text">PLAYER 1 WIN!</h1>
        <button onclick="location.reload()" style="padding:20px; font-size:24px;">RESTART</button>
    </div>

    <div id="p1" class="player-area">
        <div id="score1" style="font-size:1.5rem; margin-bottom:20px;">P1: 0/10</div>
        <div id="btns1" class="btn-container"></div>
    </div>

    <div class="center-area">
        <img id="bird-image" src="" alt="とり">
    </div>

    <div id="p2" class="player-area">
        <div id="score2" style="font-size:1.5rem; margin-bottom:20px;">P2: 0/10</div>
        <div id="btns2" class="btn-container"></div>
    </div>

    <script>
        // 【"104"】ここを自由に変えてください
        const SECRET_KEY = "tori2024"; 

        const birdList = [
            { name: "スズメ", image: "images/suzume.jpg" },
            { name: "メジロ", image: "images/mejiro.jpg" }
            // ... 他の鳥も同様に追加 ...
        ];

        function checkPassword() {
            const input = prompt("合言葉を入力してください");
            if (input === SECRET_KEY) {
                document.body.style.visibility = "visible";
                initGame();
            } else {
                alert("合言葉が違います。");
                window.location.reload();
            }
        }

        // 以下、ゲームのロジック（前回と同じ）
        let remainingBirds = [];
        let currentBird = null;
        let scores = { p1: 0, p2: 0 };

        function initGame() {
            remainingBirds = [...birdList].sort(() => Math.random() - 0.5);
            nextQuestion();
        }

        function nextQuestion() {
            if (remainingBirds.length === 0) remainingBirds = [...birdList].sort(() => Math.random() - 0.5);
            currentBird = remainingBirds.pop();
            document.getElementById('bird-image').src = currentBird.image;
            const choices = generateChoices(currentBird.name);
            updateUI('btns1', choices, 'p1');
            updateUI('btns2', choices, 'p2');
        }

        function generateChoices(correct) {
            let others = birdList.filter(b => b.name !== correct).sort(() => Math.random() - 0.5);
            return [correct, others[0].name, others[1].name, others[2].name].sort(() => Math.random() - 0.5);
        }

        function updateUI(id, choices, p) {
            const c = document.getElementById(id); c.innerHTML = '';
            choices.forEach(n => {
                const b = document.createElement('button'); b.className = 'btn'; b.innerText = n;
                b.onclick = () => { if(n === currentBird.name) { scores[p]++; updateScore(); if(scores[p]>=10) endGame(p); else nextQuestion(); } };
                c.appendChild(b);
            });
        }

        function updateScore() {
            document.getElementById('score1').innerText = `P1: ${scores.p1}/10`;
            document.getElementById('score2').innerText = `P2: ${scores.p2}/10`;
        }

        function endGame(w) {
            document.getElementById('result-screen').style.display = 'flex';
            document.getElementById('winner-text').innerText = (w === 'p1') ? "PLAYER 1 WIN!" : "PLAYER 2 WIN!";
        }

        // 起動時にパスワードチェック
        window.onload = checkPassword;
    </script>
</body>
</html>